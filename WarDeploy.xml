<project basedir="." default="all">
<target name="all" depends="uninstall,install"/>

  <!-- Start of Property Passwords Generated by Worklight - to be edited to actual values -->
  <property name="database.db2.worklight.password" value="mobileuser4"/>
  <property name="database.db2.wladmin.password" value="wladmin"/>
  <!-- End of Property Passwords Generated by Worklight -->
  

  <!-- Start of Property Parameters Generated by Worklight -->
  <property name="database.db2.worklight.username" value="mobusr4"/>
  <property name="worklight.project.war.file" value="C:\Program Files\agent\var\work\MF - Demo - Comp\IBM_InterConnect.war"/>
  <property name="database.db2.worklight.schema" value="WRKLGHT_8"/>
  <property name="database.db2.worklight.dbname" value="TESTDB"/>
  <property name="worklight.contextroot" value="/worklight_8"/>
  <property name="wl.install.analytics.configure" value="false"/>
  <property name="database.db2.wladmin.schema" value="WLADMIN"/>
  <property name="database.db2.wladmin.username" value="mobusr4"/>
  <property name="database.db2.wladmin.dbname" value="TESTDB"/>
  <property name="database.db2.driver.dir" value="C:\Users\miracle\Downloads\db2_V9.7_java_files"/>
  <property name="database.db2.host" value="172.17.0.142"/>
  <property name="database.db2.port" value="50001"/>
  <property name="appserver.was85liberty.serverInstance" value="UCDServer"/>
  <property name="appserver.was.profile" value="Liberty"/>
  <property name="appserver.was.installdir" value="C:\Program Files\ibm\WebSphere\Liberty"/>
  <property name="worklight.environment.id" value="UCD"/>
  <property name="config.migration.tool.enable" value="true"/>
  <property name="worklight.server.install.dir" value="C:\Program Files\IBM\MobileFirst_Platform_Server"/>
  <property name="config.parameters.version" value="2.0"/>
  <!-- End of Property Parameters Generated by Worklight -->
   
  <taskdef resource="com/worklight/ant/defaults.properties">
    <classpath>
      <fileset dir="${worklight.server.install.dir}/WorklightServer">
        <include name="worklight-ant-deployer.jar"/>
      </fileset>
    </classpath>
  </taskdef>

  <!-- Start of the databases target Generated by MobileFirst Server -->
  <target name="databases">
    <configuredatabase kind="Worklight">
      <db2 database="${database.db2.worklight.dbname}" 
           server="${database.db2.host}" 
           instance="${database.db2.instance}" 
           user="${database.db2.worklight.username}" 
           port= "${database.db2.port}"
           schema = "${database.db2.worklight.schema}"
           password="${database.db2.worklight.password}">
      </db2>
      <driverclasspath>
        <fileset dir="${database.db2.driver.dir}">
          <include name="db2jcc4.jar"/>
          <include name="db2jcc_license_*.jar"/>
        </fileset>
      </driverclasspath>
    
      <!-- You use the adminDatabase element to migrate the management data of
           a Worklight database V6.1 or earlier to the
           MobileFirst Server administration database.
      -->
      <adminDatabase runtimeContextRoot="${worklight.contextroot}">
      
        <db2 database="${database.db2.wladmin.dbname}" 
             server="${database.db2.host}" 
             user="${database.db2.wladmin.username}" 
             port= "${database.db2.port}"
             schema = "${database.db2.wladmin.schema}"
             password="${database.db2.wladmin.password}">
        </db2>
        <driverclasspath>
          <fileset dir="${database.db2.driver.dir}">
            <include name="db2jcc4.jar"/>
            <include name="db2jcc_license_*.jar"/>
          </fileset>
        </driverclasspath>
      </adminDatabase>
    </configuredatabase>
  </target>
  <!-- End of the databases target Generated by MobileFirst Server -->
	
	
   <!-- Start of the uninstall target Generated by MobileFirst Server -->
  <target name="uninstall">
    <unconfigureapplicationserver useWorklightReports="false" environmentId="${worklight.environment.id}" contextroot="${worklight.contextroot}">
      <project warfile="${worklight.project.war.file}"/>
      <applicationserver>
        <websphereapplicationserver installdir="${appserver.was.installdir}"
                                    profile="${appserver.was.profile}">
          <server name="${appserver.was85liberty.serverInstance}"/>
        </websphereapplicationserver>
      </applicationserver>
      <database kind="Worklight">
        <db2 database="${database.db2.worklight.dbname}" 
             server="${database.db2.host}" 
             user="${database.db2.worklight.username}" 
             port= "${database.db2.port}"
             schema = "${database.db2.worklight.schema}"
             password="${database.db2.worklight.password}">
        </db2>
        <driverclasspath>
          <fileset dir="${database.db2.driver.dir}">
            <include name="db2jcc4.jar"/>
            <include name="db2jcc_license_*.jar"/>
          </fileset>
        </driverclasspath>
      </database>
      <analytics install="${wl.install.analytics.configure}"
                 analyticsURL="${wl.analytics.url}"
                 consoleURL="${wl.analytics.console.url}"
                 username="${wl.analytics.user}"
                 password="${wl.analytics.user.password}">
      </analytics>
    </unconfigureapplicationserver>
  </target>
  <!-- End of the uninstall target Generated by MobileFirst Server -->
		

  <!-- Start of the install target Generated by MobileFirst Server -->
  <target name="install">
    <configureapplicationserver useWorklightReports="false" environmentId="${worklight.environment.id}" contextroot="${worklight.contextroot}">
      <project warfile="${worklight.project.war.file}"/>
      <applicationserver>
        <websphereapplicationserver installdir="${appserver.was.installdir}"
                                    profile="${appserver.was.profile}">
          <server name="${appserver.was85liberty.serverInstance}"/>
        </websphereapplicationserver>
      </applicationserver>
      <database kind="Worklight">
        <db2 database="${database.db2.worklight.dbname}" 
             server="${database.db2.host}" 
             user="${database.db2.worklight.username}" 
             port= "${database.db2.port}"
             schema = "${database.db2.worklight.schema}"
             password="${database.db2.worklight.password}">
        </db2>
        <driverclasspath>
          <fileset dir="${database.db2.driver.dir}">
            <include name="db2jcc4.jar"/>
            <include name="db2jcc_license_*.jar"/>
          </fileset>
        </driverclasspath>
      </database>
      <analytics install="${wl.install.analytics.configure}"
                 analyticsURL="${wl.analytics.url}"
                 consoleURL="${wl.analytics.console.url}"
                 username="${wl.analytics.user}"
                 password="${wl.analytics.user.password}">
      </analytics>
    </configureapplicationserver>
  </target>
 <!-- End of the install target Generated by MobileFirst Server -->  
</project>
